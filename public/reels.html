<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>iPhone Premium Template</title>
    <script>
        // Переносим логику в HEAD, чтобы текст был готов ДО отрисовки страницы
        const params = new URLSearchParams(window.location.search);
        const data = {
            me: params.get('me') || '',
            her: params.get('her') || '',
            diag: params.get('diag') || '',
            red: params.get('red') || ''
        };
    </script>
    <style>
        body, html {
            margin: 0; padding: 0;
            width: 1080px; height: 1920px;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        }

        /* 1. ФОН: Телефон на столе */
        .main-bg {
            position: relative;
            width: 1080px; height: 1920px;
            background: url('PHONE_TEMPLATE.png') no-repeat center center;
            background-size: cover;
        }

        /* 2. АВАТАР */
        .avatar-circle {
            position: absolute;
            top: 265px; left: 285px;
            width: 90px; height: 90px;
            border-radius: 50%;
            background: url('celin.png') no-repeat center center;
            background-size: cover;
        }

        /* 3. КОНТЕЙНЕР ЧАТА */
        .chat-area {
            position: absolute;
            top: 420px; left: 200px;
            width: 680px;
            display: flex; flex-direction: column;
            gap: 20px;
        }

        .bubble {
            max-width: 85%;
            padding: 22px 30px;
            font-size: 34px;
            border-radius: 35px;
            line-height: 1.2;
        }

        /* Его сообщение — СПРАВА (ЗЕЛЕНОЕ) */
        .msg-right {
            align-self: flex-end;
            background-color: #34c759;
            color: white;
            border-bottom-right-radius: 5px;
        }

        /* Её ответ — СЛЕВА (СЕРОЕ) */
        .msg-left {
            align-self: flex-start;
            background-color: #e5e5ea;
            color: black;
            border-bottom-left-radius: 5px;
        }

        /* 4. БЛОК АНАЛИЗА (НИЖЕ) */
        .analysis-box {
            position: absolute;
            top: 860px; left: 200px;
            width: 680px;
            display: flex; flex-direction: column;
            gap: 25px;
        }

        .main-msg {
            font-size: 48px; font-weight: 800;
            color: #1c1c1e; text-transform: uppercase;
            line-height: 1.1;
        }

        .red-verdict {
            font-size: 56px; font-weight: 900;
            color: #ff3b30; text-transform: uppercase;
            border-top: 5px solid #ff3b30;
            padding-top: 15px;
        }
    </style>
</head>
<body>
    <div class="main-bg">
        <div class="avatar-circle"></div>

        <div class="chat-area">
            <script>
                // Выводим сообщения сразу при чтении HTML
                document.write(`<div class="bubble msg-right">${data.me}</div>`);
                document.write(`<div class="bubble msg-left">${data.her}</div>`);
            </script>
        </div>

        <div class="analysis-box">
            <script>
                document.write(`<div class="main-msg">${data.diag}</div>`);
                document.write(`<div class="red-verdict">${data.red}</div>`);
            </script>
        </div>
    </div>
</body>
</html>
